//tealium universal tag - utag.3424 ut4.0.202401231957, Copyright 2024 Tealium.com Inc. All Rights Reserved.
if(!window.cj)window.cj={};try{(function(id,loader){var u={"id":id};utag.o[loader].sender[id]=u;u.ev={"view":1,"link":1};u.scriptrequested=false;u.map={"cj_enterprise_id":"enterpriseId","cj_action_id":"actionTrackerId","cj_tag_id":"tagId","currency_code":"order_currency","cj_product_id":"product_id","cj_oid":"order_id","cj_order_coupon_code":"order_coupon_code","cj_product_quantity":"product_quantity","cj_product_unit_price":"product_unit_price","cj_product_discount":"product_discount","cj_page_type":"pageType","user_menuOxygenId":"customer_id","purchaser_email_encrypt":"emailHash","total_local_cart_value":"order_subtotal"};u.extend=[function(a,b){try{if(1){try{if(location.pathname==="/")
b["cj_page_type"]="homepage";else if(location.pathname.indexOf("/products")===0)
b["cj_page_type"]="productDetail";else if(location.hostname.match(/checkout|store/g))
b["cj_page_type"]="cart";else
b["cj_page_type"]=b["page_type"];}catch(err){}}}catch(e){utag.DB(e)}}];u.send=function(utag_event,data_layer){if(u.ev[utag_event]||u.ev.all!==undefined){utag.DB("send:3424");utag.DB(data_layer);var a,b,c,d,i;a=utag_event;b=data_layer;u.data={"base_url":"","proxyPath":"","tagId":"","actionTrackerId":"","enterpriseId":"","enablePageVisit":"true","order_id":"","order_subtotal":"","order_currency":"","order_coupon_code":"","product_id":[],"product_quantity":[],"product_unit_price":[],"product_discount":[]};for(c=0;c<u.extend.length;c++){try{d=u.extend[c](a,b);if(d==false)return}catch(e){}};utag.DB("send:3424:EXTENSIONS");utag.DB(data_layer);for(var mapping_key in utag.loader.GV(u.map)){if(data_layer[mapping_key]!==undefined&&data_layer[mapping_key]!==""){var destinations=u.map[mapping_key].split(",");for(i=0;i<destinations.length;i++){mapFunc(destinations[i].split("."),u.data,data_layer[mapping_key]);}}}
utag.DB("send:3424:MAPPINGS");utag.DB(u.data);u.data.order_id=u.data.order_id||data_layer._corder||"";u.data.order_subtotal=u.data.order_subtotal||data_layer._csubtotal||"";u.data.order_currency=u.data.order_currency||data_layer._ccurrency||"";u.data.order_coupon_code=u.data.order_coupon_code||data_layer._cpromo||"";u.data.customer_id=u.data.customer_id||data_layer._ccustid||"";if(u.data.product_id.length===0&&data_layer._cprod!==undefined){u.data.product_id=data_layer._cprod.slice(0);}
if(u.data.product_quantity.length===0&&data_layer._cquan!==undefined){u.data.product_quantity=data_layer._cquan.slice(0);}
if(u.data.product_unit_price.length===0&&data_layer._cprice!==undefined){u.data.product_unit_price=data_layer._cprice.slice(0);}
if(u.data.product_discount.length===0&&data_layer._cpdisc!==undefined){u.data.product_discount=data_layer._cpdisc.slice(0);}
if(!u.data.proxyPath&&!u.data.tagId){utag.DB(u.id+": Tag not fired: Either a proxyPath or tagId is required.");return;}
if(u.data.proxyPath){u.data.base_url=u.data.proxyPath;}else{u.data.base_url="//www.mczbf.com/tags/"+u.data.tagId+"/tag.js";}
if(!u.data.order_id&&toBoolean(u.data.enablePageVisit)){var sitePageParams={enterpriseId:"enterpriseId",actionTrackerId:"actionTrackerId",pageType:"pageType",userId:"customer_id",emailHash:"emailHash",referringChannel:"referringChannel",cartSubtotal:"order_subtotal",items:""};window.cj.sitePage=createDataObj(sitePageParams,u.data);}
if(u.data.order_id){if(!u.data.enterpriseId||!u.data.actionTrackerId||!u.data.order_currency||!u.data.order_subtotal){utag.DB(u.id+": Order requires parameters: enterpriseId, actionTrackerId, order_currency and order_subtotal");}else{var orderParams={enterpriseId:"enterpriseId",actionTrackerId:"actionTrackerId",pageType:"pageType",userId:"customer_id",emailHash:"emailHash",cjeventOrder:"cjeventOrder",orderId:"order_id",currency:"order_currency",amount:"order_subtotal",discount:"order_discount",coupon:"order_coupon_code",items:"",bypassChannel:"bypassChannel",brand:"brand",brandId:"brandId",category:"category",customerStatus:"customerStatus",delivery:"delivery",marketingChannel:"marketingChannel",paymentMethod:"paymentMethod",loyaltyEarned:"loyaltyEarned",loyaltyFirstTimeSignup:"loyaltyFirstTimeSignup",loyaltyLevel:"loyaltyLevel",loyaltyRedeemed:"loyaltyRedeemed",loyaltyStatus:"loyaltyStatus"};window.cj.order=createDataObj(orderParams,u.data);}}
if(!u.scriptrequested||(typeof b["event_name"]==="string"&&b["event_name"]==="trial-download-start-intent")){u.scriptrequested=true;utag.ut.loader({"type":"script","src":u.data.base_url,"cb":null,"loc":"script","id":"cjapitag","attrs":{}});}
utag.DB("send:3424:COMPLETE");}};function mapFunc(arr,obj,item){var i=arr.shift();obj[i]=obj[i]||{};if(arr.length>0){mapFunc(arr,obj[i],item);}else{obj[i]=item;}}
function toBoolean(val){val=val||"";return val===true||val.toLowerCase()==="true"||val.toLowerCase()==="on";}
function getItems(data){var paramObj={unitPrice:"product_unit_price",itemId:"product_id",quantity:"product_quantity",discount:"product_discount"};var items=[];var item;var param;for(var i=0;i<data.product_id.length;i++){item={};for(param in paramObj){if(data[paramObj[param]][i]){item[param]=param==="itemId"?data[paramObj[param]][i]:parseFloat(data[paramObj[param]][i]);}}
if(!item.unitPrice){utag.DB(u.id+": Missing, required unitPrice for itemId: "+item.itemId);}
if(!item.quantity){utag.DB(u.id+": Missing, required quantity for itemId: "+item.itemId);}
items.push(item);}
return items;}
function createDataObj(paramObj,data){var obj={pointOfSale:"web",trackingSource:"Tealium"};for(var param in paramObj){if(param==="items"){obj[param]=getItems(data);}else if(data[paramObj[param]]){obj[param]=param.match(/amount|discount|cartSubtotal/)?parseFloat(data[paramObj[param]]):data[paramObj[param]];}}
return obj;}
utag.o[loader].loader.LOAD(id);}("3424","autodesk.global-sites"));}catch(error){utag.DB(error);}
